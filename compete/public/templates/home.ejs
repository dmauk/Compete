<div class="container">
  <div class="m-5 jumbotron">
    <h1 class="display-4 text-info text-center">Compete</h1>
	<hr class="mt-4">
    <p class="text-center alert alert-warning lead">Disclaimer: The content on this test site can be created by anyone and does <b class="text-danger">NOT</b> reflect my actual beliefs.</p>
  </div>
  <div class="row mx-auto w-75">
    <div class="col-lg">
	  <div ng-repeat="post in posts | orderBy:'-upvotes'">
	    <div class="mt-3 card bg-dark text-white">
		  <div class="row no-gutters">
		    <div class="col-auto border-right border-info">
			  <img src="http://via.placeholder.com/150x150" class="img-fluid" alt="">
			</div>
			<div class="col align-self-center">
			  <div class="card-block px-2 pt-3">
			    <h4 ng-show="post.link" class="card-title text-center"><a class="text-info" href="{{post.link}}">{{post.title}}</a></h4>
				<h4 ng-hide="post.link" class="card-title text-center">{{post.title}}</h4>
				<p class="d-flex justify-content-center card-text" ng-show="post.description">{{post.description}}</p>
				<div ng-show="isLoggedIn()" class="d-flex justify-content-center row">
				  <div class="col-6 text-right self-align-center">
				    <h3 class="font-weight-bold">{{post.upvotes}}</h3>
				  </div>
				  <div class="col-6 text-left">
				    <a ng-click="incrementUpvotes(post)" class="btn btn-outline-success">LIKE</a>
				  </div>
				</div>
                <div ng-hide="isLoggedIn()" class="d-flex justify-content-center row">
				  <div class="col-12 text-center self-align-center">
				    <h3 class="font-weight-bold">{{post.upvotes}}</h3>
				  </div>
				</div>

			  </div>
			</div>
		  </div>
		  <div class="card-footer border-top border-info pt-3 w-100 text-muted">
		    <div class="row">
		      <div class="col-9 text-left">
			    <a ng-show="(post.author==currentUser())" ng-click="deletePost(post)" class="btn btn-sm btn-outline-danger">DELETE</a>
			    Posted By: <a class="text-info" href="/#/profile/{{post.author}}">{{post.author}}</a>
			  </div>
			  <div class="col-3 text-right">
			    <a class="text-info" href="/#/posts/{{post._id}}">Comments</a>
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	</div>
  </div>
<div class="row text-center">
  <div class="col">
    <div class="mx-auto w-50">
      <hr class="mt-5"></hr>
      <form ng-submit="addPost()" ng-show="isLoggedIn()" style="margin-top:30px;">
        <h3>Add a new post</h3>
        <div class="alert alert-danger" role="alert" ng-show="error">
          {{error}}
        </div>

        <div class="form-group">
          <input type="text" class="form-control" placeholder="Title" ng-model="title"></input>
        </div>
 
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Link" ng-model="link"></input>
        </div>

        <div class="form-group">
		  <textarea placeholder="Description" class="form-control" ng-model="description" id="textarea" row"3"></textarea>
		</div>

        <button type="submit" class="btn btn-info">Post</button>
      </form>

      <div class="alert alert-warning" role="alert" ng-hide="isLoggedIn()">
        You need to <a class="text-info" href="/#/login">Log In</a> or <a class="text-info" href="/#/register">Register</a> before you can add a post.
      </div>
    </div>
  </div>
</div>
